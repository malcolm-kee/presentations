import { Head, Notes } from 'mdx-deck';

<Head>
  <title>Why The Hook</title>
</Head>

# Why The Hook

Evolution of Stateful Logic Composition in React

<Notes>

- Stateful logic means state + behavior.
- An example is making API call.

</Notes>

---

## Why This Talk?

- ~~because I like to talk.~~
- know the drawbacks of previous approaches and how hooks overcome all of them
- aware of old patterns that may still exist in React codebase

---

[Code Example](https://codesandbox.io/s/why-the-hook-practice-hzy8r)

<Notes>

- explain the example
- highlight the example is purposely simple to make it easy to understand, but it can actually applies to complex stateful logic

</Notes>

---

## Ver 1: Mixin

---

(Live Code)

---

Mixin starts to breakdown when you have many mixins:

1. name clashing
1. you can't use same mixin twice in a sample component
1. hard to trace where a state/methods comes from

---

## Ver 2: Render Props

---

(Live Code)

---

Render props overcomes some shortcomings of mixins:

1. no more name-clashing, you name the injected parameter as you wish
1. you can use same render props twice in a sample component
1. the state/callback are traceable now.

---

Render props has its drawback too:

1. It is unintuitive.
1. Nested component tree when you compose multiple render-props.

---

## Ver 3 (Now): Hooks

---

(Live Code)

---

Hooks are:

1. more intuitive. It's just function calls.
1. no more nested component trees.
1. no downsides of mixin because you control how the hooks are composed.

---

## Summary

- mixins are easier to use and intuitive, but you may have name crashing and those bugs are hard to debug
- render props composes stateful logic cleanly, but it is unintuitive and hard to read
- hooks give the best of both worlds: intuitive and clean composition.

---

## Q & A
